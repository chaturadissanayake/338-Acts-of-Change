<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="A data-driven story of 338 development projects transforming Sri Lanka in 2024." />
  <meta property="og:title" content="338 Acts of Change – Shaping Sri Lanka" />
  <meta property="og:description" content="338 initiatives shaping Sri Lanka's transformation journey." />
  <meta property="og:image" content="Assets/Main 338.jpg" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="338 Acts of Change – Shaping Sri Lanka" />
  <meta name="twitter:description" content="338 initiatives shaping Sri Lanka's transformation journey." />
  <meta name="twitter:image" content="Assets/Main 338.jpg" />
  <link rel="icon" href="Assets/favicon.png" />
  <link rel="stylesheet" href="styles.css" />
  <title>338 Acts of Change – Shaping Sri Lanka</title>
</head>
<body>

  <div id="progress-bar"></div>

  <header class="header">
    <div class="author-meta">
      <span class="author-name">Chatura Dissanayake</span>
      <span class="author-role">Communications & Data Visualization Designer</span>
    </div>
    <nav class="header-right">
      <button class="nav-toggle" aria-label="Toggle navigation">☰</button>
      <div class="nav-links">
        <a href="#">About</a>
      </div>
    </nav>
  </header>

  <main class="main-content">
    <section class="title-block">
      <h1>338 Acts of Change – Shaping Sri Lanka</h1>
      <p class="subtitle">Discover how 338 initiatives are transforming the country</p>
      <p class="meta-info">
        <time datetime="2025-05-12">Published: May 12, 2025</time> · <span class="read-time">5 min read</span>
      </p>
    </section>

    <article class="article-section">
      <!-- Full article content here (unchanged for brevity) -->
      <!-- ... Full paragraphs already included previously ... -->

      <figure class="image-row">
        <img src="Assets/Main 338.jpg" alt="Spiral chart showing 338 initiatives by category" class="image-box" id="image1" loading="lazy" onerror="this.src='fallback.jpg';" />
        <figcaption class="click-to-enlarge" data-img="image1">Click to Enlarge</figcaption>
      </figure>

      <!-- ... Other paragraphs ... -->

      <figure class="image-row">
        <img src="Assets/338.gif" alt="Animated breakdown of initiatives by development category" class="image-box" id="image2" loading="lazy" onerror="this.src='fallback.jpg';" />
        <figcaption class="click-to-enlarge" data-img="image2">Click to Enlarge</figcaption>
      </figure>
    </article>

    <!-- Tag pills -->
    <section class="tag-pills">
      <span>Data</span>
      <span>Development</span>
      <span>Visualization</span>
      <span>UN Projects</span>
      <span>Policy</span>
    </section>

    <!-- Interaction Section -->
    <section class="responses">
      <div class="engagement-icons">
        <span title="Claps">👏 3</span>
        <span title="Comments">💬</span>
      </div>
      <h3>No responses yet</h3>
      <div class="comment-box">
        <img src="Assets/user-icon.jpg" alt="User Avatar" class="avatar" />
        <input type="text" placeholder="What are your thoughts?" />
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="socials-left">
      <a href="https://www.instagram.com/chaturadissanayake/" target="_blank">Instagram</a>
      <a href="https://x.com/atakatus" target="_blank">X</a>
      <a href="https://www.linkedin.com/in/chaturadissanayake/" target="_blank">LinkedIn</a>
    </div>
    <div class="socials-right">
      <a href="https://github.com/chaturadissanayake" target="_blank">Visit Website</a>
    </div>
  </footer>

  <button id="back-to-top" title="Go to top">↑</button>

  <!-- Modal -->
  <div id="img-modal" role="dialog" aria-modal="true" hidden>
    <div class="modal-content">
      <button id="modal-close" title="Close" aria-label="Close Image">×</button>
      <img id="modal-img" src="" alt="Enlarged view" />
    </div>
  </div>

  <script>
    const enlargeTriggers = document.querySelectorAll('.click-to-enlarge');
    const modal = document.getElementById('img-modal');
    const modalImg = document.getElementById('modal-img');
    const modalClose = document.getElementById('modal-close');

    enlargeTriggers.forEach(el => {
      el.addEventListener('click', () => {
        const imgId = el.dataset.img;
        const img = document.getElementById(imgId);
        modalImg.src = img.src;
        modalImg.alt = img.alt;
        modal.removeAttribute('hidden');
      });
    });

    modalClose.addEventListener('click', () => {
      modal.setAttribute('hidden', true);
      modalImg.src = '';
    });

    window.addEventListener('keydown', e => {
      if (e.key === 'Escape') {
        modal.setAttribute('hidden', true);
        modalImg.src = '';
      }
    });

    window.onscroll = function () {
      const scroll = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
      document.getElementById("progress-bar").style.width = scroll + "%";
      document.getElementById("back-to-top").style.display = window.scrollY > 300 ? "block" : "none";
    };

    document.getElementById("back-to-top").onclick = () =>
      window.scrollTo({ top: 0, behavior: 'smooth' });

    document.querySelector('.nav-toggle').addEventListener('click', () => {
      document.querySelector('.nav-links').classList.toggle('open');
    });
  </script>
</body>
</html>
